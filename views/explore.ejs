<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instagram</title>
    <link rel="stylesheet" href="/index.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      body {
        background-color: black;
      }
      .more-div {
        position: relative;
        top: 800px;
        left: -30px;
      }
      .all-posts {
        width: 1400px;
        margin: 20px;
        display: flex;
        position: relative;
        left: 400px;
        justify-content: space-evenly;
      }
      .card {
        position: relative;
        width: 350px !important;
        height: 350px;

        border-radius: 4rem !important;
        background-color: transparent !important;
        /* border: 1px solid rgb(50, 50, 50); */
        display: flex !important;
        justify-content: center !important;
        text-align: center !important;
        margin: 10px;
      }
      .one-post img {
        width: 330px;
        height: 310px;
        border-radius: 2rem;
      }
      .card-img-overlay {
        opacity: 0;
        width: 365px;
      }
      .card-img-overlay:hover {
        background-color: black;
        opacity: 0.6;
        color: white !important;
      }
      .card-title img {
        width: 50px;
        height: 50px;
        border-radius: 100%;
      }
      .a-tag {
        text-decoration: none;
        display: inline;
      }
    </style>
  </head>
  <body>
    <div class="whole">
      <div class="sidebar">
        <div class="ab">
          <div class="ab1">
            <div class="ab12">
              <div class="ab121">
                <a href="">Instagram</a>
              </div>
            </div>
            <div class="ab13">
              <div class="ab131">
                <a href=""
                  ><img
                    class="nav-icon1"
                    src="/assets/icons8-home-50.png"
                    alt="home"
                  />
                  <div class="home">Home</div></a
                >
              </div>

              <div class="ab133 ab130">
                <a href="/posts/explore/<%=user._id %>"
                  ><img
                    class="nav-icon3"
                    src="/assets/explore-icon.png"
                    alt="home"
                  />
                  <div class="home explore">Explore</div></a
                >
              </div>

              <div class="ab137 ab130">
                <form action="/posts/<%= user._id%>/new" method="get">
                  <a href="/posts/<%= user._id%>/new"
                    ><img
                      class="nav-icon7"
                      src="/assets/create-icon.png"
                      alt="home"
                    />
                    <div class="home create">Create</div></a
                  >
                </form>
              </div>
              <div class="ab138 ab130">
                <form method="get" action="posts/profile/<%= user._id %>">
                  <a href="posts/profile/<%= user._id %>">
                    <img class="nav-icon8 pfp" src="<%=user.pfp %>" alt="" />
                    <div class="home">Profile</div>
                  </a>
                </form>
              </div>
            </div>

            <div class="ab130 more-div">
              <a href="/"
                ><img
                  class="nav-icon10"
                  src="/assets/icons8-more-50.png"
                  alt="home"
                />
                <div class="logOut"></div>

                <div class="home more">Log Out</div></a
              >
            </div>
          </div>
        </div>
      </div>
      <!-- Posts -->

      <div class="all-posts row">
        <%for(let post of all_posts){ %>

        <div class="card one-post" style="width: 18rem">
          <a href="/show/post/<%=post._id %>/<%=user._id %>" class="a-tag">
            <img src="<%=post.image %>" class="card-img-top" alt="..." />
            <div class="card-img-overlay">
              <h5 class="card-title text-center">
                <img src="<%=post.pfp %>" alt="" />
                &nbsp; <%=post.username%>
                <br />
                <br />
                <i class="fa-solid fa-heart"></i>
                &nbsp; <%=post.likes_users.length %>
                <br />
                <br />
                <i class="fa-solid fa-comment"></i>
                &nbsp; <%=post.comments.length %>
              </h5>
            </div>
            <div class="card-body">
              <!-- <p class="card-text">
              Some quick example text to build on the card title and make up the
              bulk of the card's content.
            </p> -->
            </div>
          </a>
        </div>

        <% }%>
      </div>
    </div>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"
  ></script>
</html>
