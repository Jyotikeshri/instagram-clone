<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/assets/instagram.png" />
    <title>Followers</title>

    <!-- <link rel="stylesheet" href="/css/profile.css" /> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Salsa&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0"
    />

    <link rel="stylesheet" href="/followers.css" />
    <!-- <style>
      .material-symbols-rounded {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
      }
    </style> -->
    <style>
      .main {
        overflow: hidden;
      }
      .new {
        width: 100px;
        height: 50px;
        background-color: transparent !important;
        position: relative;
        border: none;
        left: 200px;
        top: 50px;
        cursor: pointer;
        opacity: 0.7;
      }
      .new:hover {
        opacity: 1;
      }
      .username {
        color: white;
        display: flex;
        position: relative;
        width: 700px;
        height: 70px;
        font-size: 20px;
        left: -500px;
        top: 200px;
        margin: 10px;
      }
      .username input[type="text"] {
        border: 1px solid rgb(70, 70, 70);
        width: 300px;
        height: 50px;
        border-radius: 20px;
        text-align: center;
        margin-left: 20px;
        padding: 5px;
        outline: none;
        background-color: rgb(54, 54, 54);
      }

      button {
        border: none; /* Remove default button border */
        cursor: pointer; /* Add pointer cursor on hover */
        background-color: rgb(100, 100, 200);
        color: white;
        font-weight: 600;
        position: relative;
        margin-top: 0px;

        width: 150px;
        height: 30px;
        position: relative;
        top: 840px;
        left: 450px;

        border-radius: 8px;
        font-size: 16px;
      }
      .chats {
        overflow: hidden;
        margin-left: 1200px;
        position: relative;
        top: 100px;
        height: 700px;
        overflow-y: scroll;
      }
      .chats::-webkit-scrollbar {
        width: 10px;
      }
      .header {
        width: 1440px;
        height: 80px;
        color: white;
        position: relative;
        left: 300px;
        background-color: black;
        top: 0px;
        margin-left: 140px;
        border-bottom: 1px solid rgb(70, 70, 70);
        cursor: pointer;
        z-index: 10;
      }

      .header p {
        font-size: 20px;
        position: relative;
        top: -50px;
        left: 80px;
      }
      .header p:hover {
        opacity: 0.7;
      }
      .header img {
        width: 50px;
        height: 50px;
        border-radius: 100%;
        position: relative;
        top: 10px;
      }
      textarea {
        width: 1000px;
        height: 50px;
        position: relative;
        outline: none;
        background-color: rgb(54, 54, 54);
        border: none;
        border-radius: 50px;
        top: 800px;
        left: -50px;
        left: -600px;
        text-align: center;
        color: white;
      }

      .type {
        width: 700px;
        height: 50px;
        margin-left: 1200px;
      }
      .chat {
        color: white;
        background-color: rgb(102, 102, 255);
        /* width: 100px;
        height: 100px; */
        border-radius: 15px;
        border-bottom-right-radius: 0;
        display: flex;
        justify-content: center;
        flex-direction: column;
        margin: 10px;
        width: 350px;
        cursor: pointer;
      }
      .chat:hover {
        background-color: rgb(102, 102, 255);
        opacity: 0.9;
      }
      .msgs {
        position: relative;
        left: 10px;
        top: 5px;
      }
      .header,
      .type {
        position: fixed;
      }
      .time {
        position: relative;
        left: 240px;
        margin: 0;
        margin-bottom: 2px;
        font-size: 13px;
        opacity: 0.7;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <div class="sidebar">
        <div class="ab">
          <div class="ab1">
            <div class="ab12">
              <div class="ab121">
                <a href="">Instagram</a>
              </div>
            </div>
            <div class="ab13">
              <form action="/posts/<%= from._id %>" method="get">
                <div class="ab131">
                  <button type="submit">
                    <a href="/posts/<%= from._id %>">
                      <!-- <img
                        class="nav-icon1"
                        src="/assets/icons8-home-50.png"
                        alt="home"
                      /> -->

                      <div class="home">
                        <i class="fa-solid fa-house" style="color: #ffffff"></i
                        >Home
                      </div></a
                    >
                  </button>
                </div>
              </form>

              <div class="ab132 ab130">
                <a href="">
                  <!-- <img
                        class="nav-icon2"
                        src="/assets/search-icon.png"
                        alt="home"
                      /> -->
                  <div class="home search">
                    <i
                      class="fa-solid fa-magnifying-glass"
                      style="color: #ffffff"
                    ></i
                    >Search
                  </div></a
                >
              </div>
              <div class="ab133 ab130">
                <a href="">
                  <!-- <img
                        class="nav-icon3"
                        src="/assets/explore-icon.png"
                        alt="home"
                      /> -->
                  <div class="home explore">
                    <i class="fa-regular fa-compass" style="color: #ffffff"></i
                    >Explore
                  </div></a
                >
              </div>
              <div class="ab134 ab130">
                <a href="">
                  <!-- <img
                        class="nav-icon4"
                        src="/assets/reels-icon.png"
                        alt="home"
                      /> -->
                  <div class="home reels">
                    <i class="fa-solid fa-film" style="color: #ffffff"></i>Reels
                  </div></a
                >
              </div>
              <div class="ab135 ab130">
                <a href="">
                  <!-- <img
                        class="nav-icon5"
                        src="/assets/messages-icon.png"
                        alt="home"
                      /> -->
                  <div class="home mesaages">
                    <i
                      class="fa-regular fa-paper-plane"
                      style="color: #ffffff"
                    ></i
                    >Messages
                  </div></a
                >
              </div>

              <div class="ab137 ab130">
                <a href="/posts/<%= from._id %>/new">
                  <!-- <img
                        class="nav-icon7"
                        src="/assets/create-icon.png"
                        alt="home"
                      /> -->
                  <div class="home create">
                    <i
                      class="fa-solid fa-circle-plus"
                      style="color: #ffffff"
                    ></i
                    >Create
                  </div></a
                >
              </div>
              <div class="ab138 ab130">
                <a href="/posts/profile/<%= from._id %>">
                  <!-- <img
                        class="nav-icon8"
                        src="/assets/profile-icon.png"
                        alt=""
                      /> -->
                  <img src="<%=from.pfp %>" alt="" />
                  <div class="home">Profile</div>
                </a>
              </div>
            </div>
            <div class="ab14">
              <div class="ab130">
                <a href="">
                  <!-- <img
                        class="nav-icon9"
                        src="/assets/threads.png"
                        alt="home"
                      /> -->
                  <div class="home threads">
                    <i class="fa-brands fa-threads" style="color: #ffffff"></i
                    >Threads
                  </div></a
                >
              </div>
              <div class="ab130">
                <a href="">
                  <!-- <img
                        class="nav-icon10"
                        src="/assets/icons8-more-50.png"
                        alt="home"
                      /> -->
                  <div class="home more">
                    <i class="fa-solid fa-grip-lines" style="color: #ffffff"></i
                    >More
                  </div></a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="header">
        <img src="<%= to.pfp%>" alt="" />
        <p><%=to.username %></p>
      </div>
      <div class="line"></div>
      <div class="chats">
        <%for(let message of messages){%>
        <div class="chat">
          <p class="msgs"><%=message.content %></p>
          <p class="time"><%=message.sent.toString().split(" ")[4] %></p>
          <p class="time">
            <%= message.sent.toString().split(" ").slice(0,4).join(" ") %>
          </p>
        </div>

        <%}%>
      </div>
      <div class="type">
        <form
          action="/save/msg/<%=to._id%>/<%=from._id%>?_method=PATCH"
          method="post"
        >
          <button style="width: 50px">
            <i class="fa-solid fa-paper-plane"></i>
          </button>

          <textarea
            name="msg"
            id="msg"
            cols="30"
            rows="10"
            placeholder="type the message"
          ></textarea>
        </form>
      </div>
    </div>
    <script
      src="https://kit.fontawesome.com/726e005309.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
